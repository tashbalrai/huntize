---
---
<script>
    import { BOX_COUNT_PER_ROW, BOX_STD_WIDTH, MOBILE_CUTOFF, MAX_BOXES, BOX_MIN_WIDTH } from "../../utils/constants";
    function init() {
    
        window.config = {
            boxes: BOX_COUNT_PER_ROW,
            boxWidth: BOX_STD_WIDTH,
        };

        if (window.localStorage) {
            const themeName = localStorage.getItem("theme-name");
            if (themeName)
                document
                    .querySelector("html")
                    ?.setAttribute("data-theme", themeName);
        }

        window.handleScreenResize = () => {
            const html = window.document.getElementsByTagName("html")[0];
            const body = window.document.getElementsByTagName("body")[0];

            let count = Math.floor(
                html.clientWidth / BOX_STD_WIDTH
            );

            count = count > MAX_BOXES ? MAX_BOXES : count;
            let width = BOX_STD_WIDTH;

            body.setAttribute("style", `width: ${width * count + 24}px`);
            
            window.config.boxes = count;
            window.config.boxWidth = width;
        };
    }

    document.addEventListener("DOMContentLoaded", init);
</script>   